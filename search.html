<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YTUnblocked</title>
    <link href='https://fonts.googleapis.com/css?family=Roboto' rel='stylesheet'>
    <link rel="stylesheet" href="./styles/omain.css">
    <link rel="stylesheet" href="./styles/index.css">
    <link rel="stylesheet" href="./styles/search.css">
    <link rel="shortcut icon" href="./assets/favicon.ico" type="image/x-icon">
    <script src="./scripts/omain.js" defer></script>
</head>
<body>
    <div id="dba" class="dialog-background dbahidden"></div>
    <div id="db" class="dialog-body dbhidden">
        <h2>UnblockedAUTH</h2>
        <span>Please type the password to enter the site.</span>
        <input autocomplete="off" type="password" id="authpassword"><br>
        <button onclick="submitPassword();" id="authbutton" class="ripple-button">Submit</button>
    </div>
    <div class="header">
        <div class="header-infobutton" onclick="showMenu();">
            <img class="icon" src="assets/icons/menu.png" alt="menu" draggable="false">
        </div>
        <div style="padding-left: 32px;"></div>
        <a id="linkI" href="index.html">
            <img style="height: 46px; margin-top: 3px;" src="assets/ytimg.png" alt="menu" draggable="false">
        </a>
        <div style="padding-left: 42px;"></div>
    </div>
    <div class="menu" id="menuObj" style="display: none;">
        <button onclick="window.location.href='search.html'" class="ripple-button">Search</button>
        <h2>YoutubeUNBLOCKED</h2>
        By InfinityAtom
        <hr>
        <h3>Video Credits</h3>
        <hr>
        <ul>
            <li>Mumbo Jumbo</li>
            <li>Lynix</li>
            <li>Mrwhosetheboss</li>
            <li>Tom Scott</li>
            <li>Leviathan</li>
            <li>Icoso</li>
            <li>Rick Astley</li>
        </ul>
    </div>
    <div class="bodyArea" style="display: block;">
        <input type="text" id="searchInput" onkeyup="updateSearch();" placeholder="Search...">

        <ul id="searchUL">
        <li><a yt-author="Mumbo Jumbo" class="yt-author-show" href="watch.html?id=0">What if Minecraft was Mechanical?</a></li>
        <li><a yt-author="Lynix" class="yt-author-show" href="watch.html?id=1">I Bought EVERY Billboard Near Dreams House..</a></li>
        <li><a yt-author="Lynix" class="yt-author-show" href="watch.html?id=2">i trolled a streamer by adding realistic mining in minecraft..</a></li>
        <li><a yt-author="Mrwhosetheboss" class="yt-author-show" href="watch.html?id=3">How THIS instagram story kills your phone..</a></li>
        <li><a yt-author="Tom Scott" class="yt-author-show" href="watch.html?id=4">Five Things You Can't Do On British Television</a></li>
        <li><a yt-author="FitMC" class="yt-author-show" href="watch.html?id=5">2b2t's Nether World Border Has Been REACHED (30 Million Minecraft Blocks)</a></li>
        <li><a yt-author="Leviathan" class="yt-author-show" href="watch.html?id=6">Chug Jug With You - Parody of American Boy (Number One Victory Royale)</a></li>
        <li><a yt-author="Icoso" class="yt-author-show" href="watch.html?id=7">Making a GAME in POWERPOINT!</a></li>
        </ul>
    </div>
    <div class="footer">
        <img id="videoData" src="https://img.shields.io/badge/Videos-0-informational" draggable="false">
    </div>
    </div>
</body>

<script>
    var outp = "n";
    function readTextFile(file)
    {
        var rawFile = new XMLHttpRequest();
        rawFile.open("GET", file, false);
        rawFile.onreadystatechange = function ()
        {
            if(rawFile.readyState === 4)
            {
                if(rawFile.status === 200 || rawFile.status == 0)
                {
                    outp = rawFile.responseText;
                    
                }
            }
        }
        rawFile.send(null);
    }
    readTextFile("videos.txt");
    document.getElementById("videoData").src = "https://img.shields.io/badge/Videos-" + outp + "-informational";

    const k = "Vm0wd2QyVkhVWGhVYmxKV1YwZDRXRmxVU205V2JGbDNXa1pPVlUxV2NIcFhhMk0xVmpGYWRHVkliRmhoTWsweFZtcEtTMUl5VGtsaVJtUlhUVEZLVFZac1ZtRldNVnBXVFZWV2FHVnFRVGs9";
    const u = "VIxRjNWakJhUzJOdFFFZhMDVhVmWnRkSGRXYkZsNFdrUlNhVTFyYkRSWmExcHJXVlpLYzFkc1RscGlSbHBvV1dwR1UxZEhVa2xhUmxKWFlrWlpNVmRyVm1wT1ZsbDVVMnhhYWxJtUlhUVEZLVFZac1ZtRldNVnBXVFZWV2FHVnFR";

    function getParam(name, url = window.location.href) {
        name = name.replace(/[\[\]]/g, '\\$&');
        var regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)'),
            results = regex.exec(url);
        if (!results) return null;
        if (!results[2]) return '';
        return decodeURIComponent(results[2].replace(/\+/g, ' '));
    }

    if(atob(getParam("key")) != u) {
        document.getElementById("dba").classList.remove("dbahidden");
        document.getElementById("db").classList.remove("dbhidden");
        
        document.getElementById("dba").classList.add("dbashown")
        document.getElementById("db").classList.add("dbshown");
    }

    function submitPassword() {
        if(document.getElementById("authpassword").value == atob(atob(atob(atob(atob(atob(atob(atob(atob(atob(k))))))))))) {
            document.getElementById("dba").classList.add("dbahidden");
            document.getElementById("db").classList.add("dbhidden");
            document.getElementById("linkI").href = "index.html?key=" + btoa(u);
            document.getElementById("dba").classList.remove("dbashown")
            document.getElementById("db").classList.remove("dbshown");
            setTimeout(function() {
                window.location.href = window.location.href + "?key=" + btoa(u);
            }, 1000);
            
            setTimeout(function() {
                window.location.href = window.location.href + "?key=" + btoa(u);
            }, 1000);
        } else {
            document.getElementById("authbutton").textContent = "Wrong!";
            setTimeout(function() { window.location.href = "rick.html"; }, 1000);
        }
    }

    document.addEventListener("mousemove", (e) => {
        console.log("e");
        try {
            document.getElementById("dba").name = "working";
            document.getElementById("db").name = "working";
        }
        catch(err) {
            location.reload();
        }
    });

    function updateSearch() {
        var input, filter, ul, li, a, i, txtValue;
        input = document.getElementById("searchInput");
        filter = input.value.toUpperCase();
        ul = document.getElementById("searchUL");
        li = ul.getElementsByTagName("li");
        for (i = 0; i < li.length; i++) {
            a = li[i].getElementsByTagName("a")[0];
            txtValue = a.textContent || a.innerText;
            if (txtValue.toUpperCase().indexOf(filter) > -1) {
                li[i].style.display = "";
            } else {
                li[i].style.display = "none";
            }
        }
    }
</script>
</html>