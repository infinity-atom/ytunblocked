<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YTUnblocked</title>
    <link rel="stylesheet" href="./styles/omain.css">
    <link rel="stylesheet" href="./styles/index.css">
    <link rel="shortcut icon" href="./assets/favicon.ico" type="image/x-icon">
    <script src="./scripts/omain.js"></script>
</head>
<body>
    <div id="dba" class="dialog-background dbahidden"></div>
    <div id="db" class="dialog-body dbhidden">
        <h2>UnblockedAUTH</h2>
        <span>Please type the password to enter the site.</span>
        <input type="password" id="authpassword"><br>
        <input type="button" onclick="submitPassword();" id="authbutton" value="Submit">
    </div>
    <div class="header">
        <div class="header-infobutton" onclick="showMenu();">
            <img class="icon" src="assets/icons/menu.png" alt="menu" draggable="false">
        </div>
        <div style="padding-left: 32px;"></div>
        <a id="linkI" href="index.html">
            <img style="height: 46px; margin-top: 3px;" src="assets/ytimg.png" alt="menu" draggable="false">
        </a>
        <div style="padding-left: 42px;"></div>
    </div>
    <div class="menu" id="menuObj" style="display: none;">
        <h2>YoutubeUNBLOCKED</h2>
        By InfinityAtom
        <hr>
        <h3>Video Credits</h3>
        <hr>
        <ul>
            <li>Mumbo Jumbo</li>
            <li>Lynix</li>
            <li>Mrwhosetheboss</li>
            <li>Tom Scott</li>
            <li>Leviathan</li>
        </ul>
    </div>
    <div class="bodyArea">
        <div class="videoThumb">
            <a id="watch0" href="watch.html?id=0">
                <img src="assets/thumbnails/0.jpg"><br/>
                <h3>What if Minecraft was Mechanical?</h3>
                MumboJumbo  
            </a>
            
        </div>
        <div class="videoThumb">
            <a id="watch1" href="watch.html?id=1">
                <img src="assets/thumbnails/1.jpg"><br/>
                <h3>I Bought EVERY Billboard Near Dreams House..</h3>
                Lynix  
            </a>
            
        </div>
        <div class="videoThumb">
            <a id="watch2" href="watch.html?id=2">
                <img src="assets/thumbnails/2.jpg"><br/>
                <h3>i trolled a streamer by adding realistic mining in minecraft..</h3>
                Lynix  
            </a>
            
        </div>
        <div class="videoThumb">
            <a id="watch3" href="watch.html?id=3">
                <img src="assets/thumbnails/3.jpg"><br/>
                <h3>How THIS instagram story kills your phone..</h3>
                Mrwhosetheboss  
            </a>
            
        </div>
        <div class="videoThumb">
            <a id="watch4" href="watch.html?id=4">
                <img src="assets/thumbnails/4.jpg"><br/>
                <h3>Five Things You Can't Do On British Television</h3>
                Tom Scott  
            </a>
            
        </div>
        <div class="videoThumb">
            <a id="watch5" href="watch.html?id=5">
                <img src="assets/thumbnails/5.jpg"><br/>
                <h3>2b2t's Nether World Border Has Been REACHED (30 Million Minecraft Blocks)</h3>
                FitMC  
            </a>
            
        </div>
        <div class="videoThumb">
            <a id="watch6" href="watch.html?id=6">
                <img src="assets/thumbnails/6.jpg"><br/>
                <h3>Chug Jug With You - Parody of American Boy (Number One Victory Royale)</h3>
                Leviathan  
            </a>
            
        </div>
        <div class="videoThumb">
            <a id="watch7" href="watch.html?id=7">
                <img src="assets/thumbnails/7.jpg"><br/>
                <h3>Making a GAME in POWERPOINT!</h3>
                Icoso
            </a>
            
        </div>
    </div>
    <div class="footer">
        <img id="videoData" src="https://img.shields.io/badge/Videos-0-informational" draggable="false">
    </div>
    </div>
</body>

<script>
    var outp = "n";
    function readTextFile(file)
    {
        var rawFile = new XMLHttpRequest();
        rawFile.open("GET", file, false);
        rawFile.onreadystatechange = function ()
        {
            if(rawFile.readyState === 4)
            {
                if(rawFile.status === 200 || rawFile.status == 0)
                {
                    outp = rawFile.responseText;
                    
                }
            }
        }
        rawFile.send(null);
    }
    readTextFile("videos.txt");
    document.getElementById("videoData").src = "https://img.shields.io/badge/Videos-" + outp + "-informational";

    const key = "Vm0wd2QyVkZNVWhTV0dSUFZsZFNXRll3Wkc5V01XeDBaRWhrVlUxV2NEQmFWV2hyVm14S2MyTkljRmRpVkZaeVZtMHhTMUl5VGtsaVJtUlhUVEZLVFZac1ZtRldNVnBXVFZWV2FHVnFRVGs9rVlUxV2NEQmFWV2hyVm14S2MyTkljRmRpVkZaeVZtMHhTMUl";

    function getParam(name, url = window.location.href) {
        name = name.replace(/[\[\]]/g, '\\$&');
        var regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)'),
            results = regex.exec(url);
        if (!results) return null;
        if (!results[2]) return '';
        return decodeURIComponent(results[2].replace(/\+/g, ' '));
    }

    if(getParam("key") != key) {
        document.getElementById("dba").classList.remove("dbahidden");
        document.getElementById("db").classList.remove("dbhidden");
        
        document.getElementById("dba").classList.add("dbashown")
        document.getElementById("db").classList.add("dbshown");
        
    } else {
        linkHrefs();
    }

    function submitPassword() {
        if(document.getElementById("authpassword").value == atob(atob(atob(atob(atob(atob(atob(atob(atob(atob(key))))))))))) {
            document.getElementById("dba").classList.add("dbahidden");
            document.getElementById("db").classList.add("dbhidden");
            
            document.getElementById("dba").classList.remove("dbashown")
            document.getElementById("db").classList.remove("dbshown");
            window.location.href = window.location.href + "?key=" + key;
        } else {
            document.getElementById("authbutton").value = "Wrong!";
            setTimeout(function() { document.getElementById("authbutton").value = "Submit"; }, 1000);
        }
    }

    function linkHrefs() {
        const links = {
            "imagelink": document.getElementById("linkI"),
            "watch0": document.getElementById("watch0"),
            "watch1": document.getElementById("watch1"),
            "watch2": document.getElementById("watch2"),
            "watch3": document.getElementById("watch3"),
            "watch4": document.getElementById("watch4"),
            "watch5": document.getElementById("watch5"),
            "watch6": document.getElementById("watch6"),
            "watch7": document.getElementById("watch7")
        };

        links.imagelink.href = "index.html?key=" + key;
        links.watch0.href = "watch.html?id=0&key=" + key;
        links.watch1.href = "watch.html?id=1&key=" + key;
        links.watch2.href = "watch.html?id=2&key=" + key;
        links.watch3.href = "watch.html?id=3&key=" + key;
        links.watch4.href = "watch.html?id=4&key=" + key;
        links.watch5.href = "watch.html?id=5&key=" + key;
        links.watch6.href = "watch.html?id=6&key=" + key;
        links.watch7.href = "watch.html?id=7&key=" + key;
    }

    document.addEventListener("mousemove", (e) => {
        console.log("e");
        try {
            document.getElementById("dba").name = "working";
            document.getElementById("db").name = "working";
        }
        catch(err) {
            location.reload();
        }
    });
</script>
</html>